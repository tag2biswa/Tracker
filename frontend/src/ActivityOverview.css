/* src/styles/ActivityOverview.css
   Adds:
   - staggered fade-in animation for .subrow when expanded
   - avatar styles and collapsed user list look
   - responsive table with table-layout: fixed and truncation to avoid horizontal scroll
*/

:root{
  --card-bg: #ffffff;
  --muted: #6b7280;
  --bd: #e6e9ef;
  --accent-1: #6C5CE7;
  --accent-2: #0984E3;
  --shadow-sm: 0 8px 28px rgba(12,18,32,0.06);
}

/* Base card */
.ao-card {
  background: linear-gradient(180deg, var(--card-bg) 0%, #fbfbff 100%);
  border-radius: 14px;
  box-shadow: var(--shadow-sm);
  padding: 16px;
  box-sizing: border-box;
}

/* Header */
.ao-header { display:flex; gap:16px; align-items:flex-start; width:100%; }
.ao-top { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.ao-title { font-size:1.14rem; font-weight:800; margin:0; color: #091127; letter-spacing: -0.2px; }
.ao-sub { color: var(--muted); font-size:0.9rem; margin-top:4px; }

/* pulse */
.ao-pulse { width:36px; height:36px; border-radius:10px; display:flex; align-items:center; justify-content:center; color:white; font-weight:800; box-shadow:0 8px 30px rgba(12,18,32,0.08); }

/* Filterbar */
.ao-filterbar {
  display:flex;
  gap:12px;
  align-items:center;
  margin-top:12px;
  flex-wrap:wrap;
  width:100%;
  background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(250,251,255,0.85));
  border: 1px solid var(--bd);
  padding: 10px;
  border-radius: 10px;
  box-sizing: border-box;
  box-shadow: 0 6px 18px rgba(10,15,40,0.03);
}
.ao-filter-item { display:flex; flex-direction:column; gap:6px; min-width:120px; max-width:260px; }
.ao-filter-label { font-size:11px; color:var(--muted); font-weight:700; }
.ao-filter-select { padding:7px 10px; border-radius:8px; border:1px solid var(--bd); background:white; font-weight:700; font-size:13px; color:#071427; min-width:140px; box-shadow: 0 3px 10px rgba(12,18,32,0.03); }
.ao-filter-search { display:flex; align-items:center; gap:8px; min-width:240px; flex:1 1 260px; }
.ao-search-input { padding:8px 10px; border-radius:8px; border:1px solid var(--bd); background:white; font-size:13px; min-width:180px; box-sizing:border-box; }
.ao-clear { background: transparent; border: none; color:var(--muted); cursor:pointer; font-weight:800; }
.ao-filter-actions { display:flex; gap:8px; align-items:center; margin-left:auto; }
.ao-action-btn { padding:8px 12px; border-radius:8px; border:1px solid var(--bd); background:white; font-weight:700; font-size:13px; color:#071427; cursor:pointer; box-shadow: 0 4px 12px rgba(12,18,32,0.03); }
.ao-action-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(12,18,32,0.06); }
.ao-action-btn.primary { background: linear-gradient(90deg, var(--accent-1), var(--accent-2)); color: white; border: none; box-shadow: 0 12px 36px rgba(12,18,32,0.10); }

/* table container no horizontal scroll - use fixed layout and truncation */
.table-wrap { margin-top:14px; width:100%; overflow:visible; border-radius:8px; }

/* table fixed layout keeps widths within container and avoids horizontal scroll */
table.activity-table { width:100%; border-collapse:collapse; table-layout: fixed; }
table.activity-table colgroup col { /* ensures columns obey widths */ }
table.activity-table thead th {
  text-align:left; padding:10px 12px; font-size:13px; color:#334155;
  position:sticky; top:0; background:rgba(255,255,255,0.96); z-index:2; cursor:pointer; border-bottom:1px solid #eef2f7;
}
table.activity-table tbody tr { transition: background .12s ease; }
table.activity-table td { padding:10px 12px; border-top:1px solid #f6f7fb; vertical-align:middle; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* app header */
.app-header-row { cursor:pointer; border-radius:8px; }
.app-header-row:hover { background: linear-gradient(90deg, rgba(108,92,231,0.03), rgba(9,132,227,0.02)); }

/* app name truncation helper */
.app-name-trunc { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* subrows container */
.subrows-container {
  overflow:hidden;
  box-sizing:border-box;
  background: linear-gradient(180deg, rgba(248,250,253,0.9), rgba(255,255,255,0.95));
  border-left: 4px solid rgba(108,92,231,0.08);
  border-radius:8px;
  box-shadow: 0 8px 22px rgba(12,18,32,0.03);
}

/* inner */
.subrows-inner { display:flex; flex-direction:column; gap:8px; padding:6px 2px; }

/* subrow (card-like) */
.subrow {
  display:flex; justify-content:space-between; gap:12px; align-items:center;
  padding:8px 10px; border-radius:8px; background: linear-gradient(180deg,#ffffff,#fbfdff);
  border:1px solid rgba(15,23,42,0.03); box-shadow: 0 6px 18px rgba(10,15,40,0.03);
  opacity: 1; transform: translateY(0);
}
.subrow-left { display:flex; flex-direction:column; gap:4px; max-width: 76%; }
.subrow-title { font-weight:700; color:#071427; font-size:13px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.subrow-meta { font-size:12px; color:var(--muted); display:flex; gap:6px; align-items:center; flex-wrap:wrap; }
.subrow-right { font-family:monospace; font-weight:800; color:#071427; white-space:nowrap; }

/* avatars */
.avatar {
  width:26px; height:26px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center;
  color: white; font-weight:700; font-size:12px; box-shadow: 0 4px 12px rgba(12,18,32,0.08);
}

/* caret */
.caret { transition: transform 260ms cubic-bezier(.2,.9,.2,1), color 160ms ease; color: var(--muted); font-weight:900; }
.caret.rotated { transform: rotate(90deg); color: #334155; }

/* staggered animation for subrows when expanded */
@keyframes fadeSlideUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.subrow.animated { animation-name: fadeSlideUp; animation-duration: 320ms; animation-fill-mode: both; animation-timing-function: cubic-bezier(.2,.9,.2,1); }

/* highlight */
.highlight { background: linear-gradient(90deg,#fff7cc,#ffd36b); padding: 0 4px; border-radius: 3px; }

/* mobile */
.ao-card-list { display:flex; flex-direction:column; gap:10px; }
.ao-activity-card { background:#fff; border-radius:10px; padding:10px; box-shadow:0 10px 30px rgba(12,18,32,0.04); display:flex; gap:12px; align-items:flex-start; }
.app-header-clickable { display:flex; align-items:center; gap:12px; width:100%; cursor:pointer; }

/* compact user inline block */
.users-inline { display:flex; align-items:center; gap:8px; }
.users-inline .avatar { width:22px; height:22px; font-size:11px; }

/* empty */
.ao-empty { padding:18px; color:var(--muted); text-align:center; }

/* focus */
.app-header-row:focus { outline: 3px solid rgba(108,92,231,0.12); outline-offset: -2px; border-radius:8px; }

/* responsive adjustments */
@media (max-width: 980px) {
  .ao-filter-actions { margin-left: 0; width:100%; justify-content:space-between; }
  .ao-filter-item { min-width: 100px; max-width: 180px; }
  .ao-filter-search { min-width: 140px; flex: 1 1 180px; }
  table.activity-table td { white-space:nowrap; }
}
@media (max-width: 640px) {
  .ao-filterbar { flex-direction:column; align-items:stretch; gap:8px; }
  .subrows-container { margin-left: 8px; margin-right:8px; }
  .subrow-title { white-space:normal; overflow:visible; }
  table.activity-table thead { display:none; }
  table.activity-table td { white-space:normal; overflow:visible; text-overflow:clip; }
}
